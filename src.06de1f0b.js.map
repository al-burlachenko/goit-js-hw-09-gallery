{"version":3,"sources":["js/initialData.js","js/modalInterface.js","index.js"],"names":["galleryItems","preview","original","description","modalClose","event","code","target","currentTarget","removeEventListener","classList","remove","window","modalKeyInterface","setAttribute","modalOpen","addEventListener","add","changeLightboxImage","src","alt","imgArray","itemsArray","gallery","querySelectorAll","forEach","element","push","dataset","source","currentSrc","lightboxImage","getAttribute","index","indexOf","length","console","log","document","querySelector","lightbox","lightboxOverlay","modalClsBtn","createGalleryMarkup","arrayItems","map","join","getOriginalImgData","preventDefault","insertAdjacentHTML"],"mappings":"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","file":"src.06de1f0b.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\nexport default galleryItems;\n","import { gallery, lightbox, lightboxImage, lightboxOverlay, modalClsBtn } from '../index';\nexport { modalOpen, changeLightboxImage };\n\nfunction modalClose(event) {\n  if (event.code !== 'Escape' && event.target !== event.currentTarget) {\n    return;\n  }\n\n  modalClsBtn.removeEventListener('click', modalClose);\n  lightbox.classList.remove('is-open');\n\n  lightboxOverlay.removeEventListener('click', modalClose);\n  window.removeEventListener('keydown', modalClose);\n  window.removeEventListener('keydown', modalKeyInterface);\n\n  lightboxImage.setAttribute('src', '');\n  lightboxImage.setAttribute('alt', '');\n}\n\nfunction modalOpen(event) {\n  modalClsBtn.addEventListener('click', modalClose);\n  lightbox.classList.add('is-open');\n\n  lightboxOverlay.addEventListener('click', modalClose);\n\n  window.addEventListener('keydown', modalClose);\n  window.addEventListener('keydown', modalKeyInterface);\n}\n\nfunction changeLightboxImage(src, alt) {\n  lightboxImage.setAttribute('src', src);\n  lightboxImage.setAttribute('alt', alt);\n}\n\nfunction modalKeyInterface(event) {\n  const imgArray = [];\n  const itemsArray = gallery.querySelectorAll('.gallery__image');\n\n  [...itemsArray].forEach(element => {\n    imgArray.push(element.dataset.source);\n  });\n\n  const currentSrc = lightboxImage.getAttribute('src');\n  let index = imgArray.indexOf(currentSrc);\n\n  if (event.code === 'ArrowRight') {\n    if (index >= itemsArray.length - 1) {\n      index = -1;\n    }\n    index += 1;\n  }\n\n  if (event.code === 'ArrowLeft') {\n    if (index <= 0) {\n      index = itemsArray.length;\n    }\n    console.log(index);\n    index -= 1;\n  }\n\n  const src = itemsArray[index].dataset.source;\n  const alt = itemsArray[index].getAttribute('alt');\n  changeLightboxImage(src, alt);\n}\n","import './sass/main.scss';\nimport galleryItems from './js/initialData';\nimport { modalOpen, changeLightboxImage } from './js/modalInterface';\n\nexport const gallery = document.querySelector('.js-gallery');\nexport const lightbox = document.querySelector('.js-lightbox');\nexport const lightboxImage = lightbox.querySelector('.lightbox__image');\nexport const lightboxOverlay = lightbox.querySelector('.lightbox__overlay');\nexport const modalClsBtn = lightbox.querySelector('button[data-action=\"close-lightbox\"]');\n\ngallery.addEventListener('click', getOriginalImgData);\ngallery.insertAdjacentHTML('beforeend', createGalleryMarkup(galleryItems));\n\nfunction createGalleryMarkup(arrayItems) {\n  return arrayItems\n    .map(({ preview, original, description }) => {\n      return `\n    <li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src='${preview}'\n      data-source=\"${original}\"\n      alt='${description}'\n    />\n  </a>\n</li>`;\n    })\n    .join('');\n}\n\nfunction getOriginalImgData(event) {\n  event.preventDefault();\n\n  if (event.target === event.currentTarget) {\n    return;\n  }\n\n  const src = event.target.dataset.source;\n  const alt = event.target.getAttribute('alt');\n\n  modalOpen(event);\n  changeLightboxImage(src, alt);\n}\n"]}